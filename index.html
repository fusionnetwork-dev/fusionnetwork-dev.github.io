<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta property="og:title" content="Sanct">
    <meta property="og:description" content="Create your own vibe with Sanct on swaqq.xyz">
    <meta property="og:url" content="https://swaqq.xyz">
    <meta property="og:image" content="https://i.pinimg.com/736x/40/3b/fa/403bfa953c43f049260d2398947e4704.jpg">
    <meta property="og:type" content="website">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="theme-color" content="#FF0000">
    <title>Sanct</title>
    <link rel="icon" href="https://cdn.discordapp.com/attachments/1400222624956547182/1403307765719371796/icon.png" type="image/png">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@700&display=swap');

        :root {
            --primary-gradient: linear-gradient(90deg, #1C2526, #FF0000);
            --metal-color: #1C2526;
            --neon-red: #FF0000;
            --background-opacity: 0.8;
            --profile-blur: 0px;
        }

        body {
            font-family: 'Orbitron', sans-serif;
            min-height: 100vh;
            background: var(--primary-gradient);
            overflow-x: hidden;
            margin: 0;
            color: #fff;
        }

        .titlebar {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            background: rgba(28, 37, 38, 0.9);
            backdrop-filter: blur(10px);
            padding: 1rem 2rem;
            z-index: 100;
            display: flex;
            align-items: center;
            justify-content: space-between;
            border-bottom: 3px solid #FF0000;
            box-shadow: 0 4px 15px rgba(255, 0, 0, 0.5);
        }

        .titlebar img {
            width: 64px;
            height: 64px;
            margin-right: 1rem;
            filter: drop-shadow(0 0 10px #FF0000);
        }

        .titlebar h1 {
            font-size: 2.5rem;
            font-weight: 900;
            color: #fff;
            text-shadow: 0 0 10px #FF0000;
        }

        .titlebar-tabs {
            display: flex;
            gap: 1.5rem;
        }

        .titlebar-tabs button {
            color: #fff;
            font-size: 1.2rem;
            font-weight: 700;
            padding: 0.5rem 1.5rem;
            border: 2px solid #FF0000;
            border-radius: 5px;
            background: rgba(28, 37, 38, 0.7);
            transition: all 0.3s ease;
            text-transform: uppercase;
        }

        .titlebar-tabs button:hover,
        .titlebar-tabs button.active {
            background: #FF0000;
            box-shadow: 0 0 20px rgba(255, 0, 0, 0.8);
            transform: translateY(-2px);
        }

        .welcome-text {
            font-size: 6rem;
            font-weight: 900;
            color: #fff;
            text-shadow: 0 0 20px #FF0000, 0 0 40px #FF0000;
            animation: neonPulse 1.5s ease-in-out infinite;
        }

        @keyframes neonPulse {
            0%, 100% { text-shadow: 0 0 10px #FF0000, 0 0 20px #FF0000; }
            50% { text-shadow: 0 0 25px #FF0000, 0 0 50px #FF0000; }
        }

        .profile-card {
            backdrop-filter: blur(var(--profile-blur));
            background: rgba(28, 37, 38, 0.8);
            border: 2px solid #FF0000;
            border-radius: 10px;
        }

        .dashboard-panel {
            position: fixed;
            top: 80px;
            right: 20px;
            width: 300px;
            background: rgba(28, 37, 38, 0.9);
            backdrop-filter: blur(10px);
            border: 2px solid #FF0000;
            border-radius: 10px;
            padding: 1.5rem;
            z-index: 50;
            max-height: calc(100vh - 100px);
            overflow-y: auto;
            box-shadow: 0 0 20px rgba(255, 0, 0, 0.5);
        }

        .auth-buttons button {
            transition: all 0.3s ease;
            box-shadow: 0 0 15px rgba(255, 0, 0, 0.7);
            border: 2px solid #FF0000;
            background: rgba(28, 37, 38, 0.7);
        }

        .auth-buttons button:hover {
            transform: scale(1.1);
            box-shadow: 0 0 25px rgba(255, 0, 0, 0.9);
            background: #FF0000;
        }

        .search-bar input {
            background: rgba(28, 37, 38, 0.7);
            backdrop-filter: blur(10px);
            border: 2px solid #FF0000;
            border-radius: 5px;
            transition: all 0.3s ease;
            color: #fff;
            padding: 0.5rem;
        }

        .search-bar input:focus {
            box-shadow: 0 0 20px #FF0000;
        }

        .cta-button {
            border: 2px solid #FF0000;
            background: rgba(28, 37, 38, 0.7);
            padding: 1rem 2rem;
            font-size: 1.2rem;
            border-radius: 5px;
            transition: all 0.3s ease;
        }

        .cta-button:hover {
            background: #FF0000;
            box-shadow: 0 0 25px rgba(255, 0, 0, 0.9);
            transform: translateY(-2px);
        }

        .link-button {
            display: inline-block;
            padding: 0.5rem 1rem;
            margin: 0.25rem;
            border: 2px solid #FF0000;
            background: rgba(28, 37, 38, 0.7);
            color: #fff;
            text-decoration: none;
            border-radius: 5px;
            transition: all 0.3s ease;
        }

        .link-button:hover {
            background: #FF0000;
            box-shadow: 0 0 20px rgba(255, 0, 0, 0.8);
            transform: translateY(-2px);
        }

        .footer {
            background: rgba(28, 37, 38, 0.9);
            backdrop-filter: blur(10px);
            border-top: 2px solid #FF0000;
            padding: 1rem;
            text-align: center;
        }
    </style>
</head>
<body>
    <div id="root"></div>
    <script type="text/babel" data-presets="env,react">
        const { useState, useEffect, useRef } = React;

        // Simulated backend with localStorage
        const initializeBackend = () => {
            try {
                const users = JSON.parse(localStorage.getItem('users') || '[]');
                if (!users.find(u => u.uid === 0)) {
                    users.push({
                        uid: 0,
                        username: 'swaqq',
                        password: 'password',
                        isPremium: true,
                        badges: ['owner', 'swag', 'hasswag', 'igotswag', 'swaggedup'],
                        gradientStart: '#1C2526',
                        gradientEnd: '#FF0000',
                        backgroundOpacity: 0.8,
                        profileBlur: 0,
                        background: '',
                        music: [],
                        links: [
                            { url: 'https://www.roblox.com/users/8156657037/profile', label: 'Roblox' },
                            { url: 'https://discord.com/users/1084576683262230548', label: 'Discord' }
                        ],
                        gradient: true,
                        wavyEffect: true,
                        welcomeScreen: true,
                        customBadges: []
                    });
                    localStorage.setItem('users', JSON.stringify(users));
                }
                return users;
            } catch (e) {
                console.error('Error initializing backend:', e);
                return [];
            }
        };

        // Error Boundary
        class ErrorBoundary extends React.Component {
            state = { hasError: false, error: null };
            static getDerivedStateFromError(error) {
                console.error('ErrorBoundary caught:', error);
                return { hasError: true, error };
            }
            render() {
                if (this.state.hasError) {
                    return (
                        <div className="text-white text-center mt-10">
                            <h1>Something went wrong.</h1>
                            <p>{this.state.error?.message || 'Please refresh the page.'}</p>
                        </div>
                    );
                }
                return this.props.children;
            }
        }

        // App Component
        const App = () => {
            const [user, setUser] = useState(null);
            const [page, setPage] = useState('home');
            const [viewUser, setViewUser] = useState(null);
            const [activeTab, setActiveTab] = useState('home');

            useEffect(() => {
                try {
                    const loggedInUser = JSON.parse(localStorage.getItem('loggedInUser') || 'null');
                    if (loggedInUser) {
                        setUser(loggedInUser);
                        document.documentElement.style.setProperty('--primary-gradient', `linear-gradient(90deg, ${loggedInUser.gradientStart}, ${loggedInUser.gradientEnd})`);
                        document.documentElement.style.setProperty('--background-opacity', loggedInUser.backgroundOpacity);
                        document.documentElement.style.setProperty('--profile-blur', `${loggedInUser.profileBlur}px`);
                    }

                    const path = window.location.pathname;
                    const users = initializeBackend();
                    if (path.startsWith('/uid/')) {
                        const uid = parseInt(path.split('/uid/')[1]);
                        const foundUser = users.find(u => u.uid === uid);
                        if (foundUser) {
                            setViewUser(foundUser);
                            setPage('viewProfile');
                            setActiveTab('profile');
                        } else {
                            setPage('home');
                            setActiveTab('home');
                            window.history.pushState({}, '', '/');
                        }
                    } else if (path !== '/' && path !== '/home') {
                        const username = path.slice(1);
                        const foundUser = users.find(u => u.username.toLowerCase() === username.toLowerCase());
                        if (foundUser) {
                            setViewUser(foundUser);
                            setPage('viewProfile');
                            setActiveTab('profile');
                        } else {
                            setPage('home');
                            setActiveTab('home');
                            window.history.pushState({}, '', '/');
                        }
                    }
                } catch (e) {
                    console.error('Error in App useEffect:', e);
                }
            }, []);

            const handleLogin = (username, password) => {
                try {
                    const users = initializeBackend();
                    const foundUser = users.find(u => u.username === username && u.password === password);
                    if (foundUser) {
                        localStorage.setItem('loggedInUser', JSON.stringify(foundUser));
                        setUser(foundUser);
                        document.documentElement.style.setProperty('--primary-gradient', `linear-gradient(90deg, ${foundUser.gradientStart}, ${foundUser.gradientEnd})`);
                        document.documentElement.style.setProperty('--background-opacity', foundUser.backgroundOpacity);
                        document.documentElement.style.setProperty('--profile-blur', `${foundUser.profileBlur}px`);
                        setPage('profile');
                        setActiveTab('profile');
                        window.history.pushState({}, '', '/');
                    } else {
                        alert('Invalid credentials');
                    }
                } catch (e) {
                    console.error('Login error:', e);
                    alert('Error during login. Please try again.');
                }
            };

            const handleSignup = (username, password) => {
                try {
                    const users = initializeBackend();
                    if (users.find(u => u.username === username)) {
                        alert('Username already exists');
                        return;
                    }
                    const newUid = users.length > 0 ? Math.max(...users.map(u => u.uid)) + 1 : 0;
                    const newUser = {
                        uid: newUid,
                        username,
                        password,
                        isPremium: false,
                        badges: ['swag'],
                        gradientStart: '#1C2526',
                        gradientEnd: '#FF0000',
                        backgroundOpacity: 0.8,
                        profileBlur: 0,
                        background: '',
                        music: [],
                        links: [],
                        gradient: false,
                        wavyEffect: false,
                        welcomeScreen: false,
                        customBadges: []
                    };
                    users.push(newUser);
                    localStorage.setItem('users', JSON.stringify(users));
                    localStorage.setItem('loggedInUser', JSON.stringify(newUser));
                    setUser(newUser);
                    document.documentElement.style.setProperty('--primary-gradient', `linear-gradient(90deg, ${newUser.gradientStart}, ${newUser.gradientEnd})`);
                    document.documentElement.style.setProperty('--background-opacity', newUser.backgroundOpacity);
                    document.documentElement.style.setProperty('--profile-blur', `${newUser.profileBlur}px`);
                    setPage('profile');
                    setActiveTab('profile');
                    window.history.pushState({}, '', '/');
                } catch (e) {
                    console.error('Signup error:', e);
                    alert('Error during signup. Please try again.');
                }
            };

            const handleLogout = () => {
                try {
                    localStorage.removeItem('loggedInUser');
                    setUser(null);
                    setPage('home');
                    setActiveTab('home');
                    window.history.pushState({}, '', '/');
                } catch (e) {
                    console.error('Logout error:', e);
                }
            };

            const handleSearch = (query) => {
                try {
                    const users = initializeBackend();
                    const foundUser = users.find(u => u.username.toLowerCase() === query.toLowerCase() || u.uid === parseInt(query));
                    if (foundUser) {
                        setViewUser(foundUser);
                        setPage('viewProfile');
                        setActiveTab('profile');
                        window.history.pushState({}, '', `/uid/${foundUser.uid}`);
                    } else {
                        alert('User not found');
                    }
                } catch (e) {
                    console.error('Search error:', e);
                    alert('Error searching for user');
                }
            };

            return (
                <ErrorBoundary>
                    <div className="min-h-screen flex flex-col">
                        <div className="titlebar">
                            <div className="flex items-center">
                                <img src="https://cdn.discordapp.com/attachments/1400222624956547182/1403307765719371796/icon.png" alt="Sanct Icon" />
                                <h1>Sanct</h1>
                            </div>
                            <div className="titlebar-tabs">
                                <button className={activeTab === 'home' ? 'active' : ''} onClick={() => { setPage('home'); setActiveTab('home'); window.history.pushState({}, '', '/'); }}>Home</button>
                                <button className={activeTab === 'profile' ? 'active' : ''} onClick={() => { if (user) { setPage('profile'); setActiveTab('profile'); window.history.pushState({}, '', '/'); } else alert('Please log in'); }}>Profile</button>
                                <button className={activeTab === 'dashboard' ? 'active' : ''} onClick={() => { if (user) { setPage('dashboard'); setActiveTab('dashboard'); window.history.pushState({}, '', '/'); } else alert('Please log in'); }}>Dashboard</button>
                                <button className={activeTab === 'search' ? 'active' : ''} onClick={() => { setPage('search'); setActiveTab('search'); window.history.pushState({}, '', '/'); }}>Search</button>
                            </div>
                        </div>
                        {page === 'home' && <Home setPage={setPage} user={user} setUser={setUser} handleLogout={handleLogout} handleSearch={handleSearch} />}
                        {page === 'signup' && <Signup onSignup={handleSignup} setPage={setPage} />}
                        {page === 'login' && <Login onLogin={handleLogin} setPage={setPage} />}
                        {page === 'profile' && user && <Profile user={user} setUser={setUser} setPage={setPage} />}
                        {page === 'viewProfile' && viewUser && <ViewProfile user={viewUser} setPage={setPage} />}
                        {page === 'dashboard' && user && <Dashboard user={user} setUser={setUser} setPage={setPage} handleLogout={handleLogout} />}
                        {page === 'search' && <Search handleSearch={handleSearch} setPage={setPage} />}
                    </div>
                </ErrorBoundary>
            );
        };

        // Home Component
        const Home = ({ setPage, user, setUser, handleLogout, handleSearch }) => {
            const [searchQuery, setSearchQuery] = useState('');

            const onSearch = (e) => {
                e.preventDefault();
                if (searchQuery) {
                    handleSearch(searchQuery);
                }
            };

            return (
                <div className="min-h-screen flex items-center justify-center pt-20">
                    <div className="text-center z-10">
                        <h1 className="welcome-text mb-6">Sanct</h1>
                        <p className="text-white text-2xl mb-8">Create Your Arsenal</p>
                        <div className="search-bar mb-8">
                            <form onSubmit={onSearch}>
                                <input
                                    type="text"
                                    placeholder="Search by username or UID"
                                    value={searchQuery}
                                    onChange={(e) => setSearchQuery(e.target.value)}
                                    className="w-80 p-2 rounded-none text-white search-bar focus:outline-none"
                                />
                            </form>
                        </div>
                        <div className="auth-buttons flex space-x-4 mb-8">
                            {!user && (
                                <>
                                    <button
                                        className="cta-button"
                                        onClick={() => setPage('signup')}
                                    >
                                        Join Now
                                    </button>
                                    <button
                                        className="cta-button"
                                        onClick={() => setPage('login')}
                                    >
                                        Log In
                                    </button>
                                </>
                            )}
                            {user && (
                                <div className="dashboard-panel">
                                    <CompactDashboard user={user} setUser={setUser} setPage={setPage} handleLogout={handleLogout} />
                                </div>
                            )}
                        </div>
                    </div>
                    <footer className="footer w-full mt-auto">
                        <div className="flex justify-center gap-4">
                            <a href="https://www.roblox.com/users/8156657037/profile" className="text-white border-2 border-red-600 p-2 rounded hover:bg-red-600">
                                <i className="fab fa-roblox"></i>
                            </a>
                            <a href="https://discord.com/users/1084576683262230548" className="text-white border-2 border-red-600 p-2 rounded hover:bg-red-600">
                                <i className="fab fa-discord"></i>
                            </a>
                        </div>
                        <p className="text-sm mt-2">© 2025 Sanct - Built with <span className="text-red-600">FIRE</span></p>
                    </footer>
                </div>
            );
        };

        // Signup Component
        const Signup = ({ onSignup, setPage }) => {
            const [username, setUsername] = useState('');
            const [password, setPassword] = useState('');

            const handleSubmit = (e) => {
                e.preventDefault();
                if (!username || !password) {
                    alert('Please fill in all fields');
                    return;
                }
                onSignup(username, password);
            };

            return (
                <div className="flex items-center justify-center min-h-screen pt-20">
                    <div className="bg-gray-800 bg-opacity-80 backdrop-blur-lg p-6 rounded-lg border-2 border-red-600">
                        <h2 className="text-2xl text-white mb-4">Sign Up</h2>
                        <form onSubmit={handleSubmit} className="space-y-4">
                            <input
                                type="text"
                                placeholder="Username"
                                value={username}
                                onChange={(e) => setUsername(e.target.value)}
                                className="w-full p-2 rounded bg-gray-700 text-white border border-red-600"
                            />
                            <input
                                type="password"
                                placeholder="Password"
                                value={password}
                                onChange={(e) => setPassword(e.target.value)}
                                className="w-full p-2 rounded bg-gray-700 text-white border border-red-600"
                            />
                            <button
                                type="submit"
                                className="w-full p-2 bg-red-600 text-white rounded hover:bg-red-700 transition"
                            >
                                Sign Up
                            </button>
                        </form>
                        <p className="text-white mt-4">
                            Already have an account?{' '}
                            <span className="text-red-600 cursor-pointer" onClick={() => setPage('login')}>
                                Log In
                            </span>
                        </p>
                    </div>
                </div>
            );
        };

        // Login Component
        const Login = ({ onLogin, setPage }) => {
            const [username, setUsername] = useState('');
            const [password, setPassword] = useState('');

            const handleSubmit = (e) => {
                e.preventDefault();
                if (!username || !password) {
                    alert('Please fill in all fields');
                    return;
                }
                onLogin(username, password);
            };

            return (
                <div className="flex items-center justify-center min-h-screen pt-20">
                    <div className="bg-gray-800 bg-opacity-80 backdrop-blur-lg p-6 rounded-lg border-2 border-red-600">
                        <h2 className="text-2xl text-white mb-4">Log In</h2>
                        <form onSubmit={handleSubmit} className="space-y-4">
                            <input
                                type="text"
                                placeholder="Username"
                                value={username}
                                onChange={(e) => setUsername(e.target.value)}
                                className="w-full p-2 rounded bg-gray-700 text-white border border-red-600"
                            />
                            <input
                                type="password"
                                placeholder="Password"
                                value={password}
                                onChange={(e) => setPassword(e.target.value)}
                                className="w-full p-2 rounded bg-gray-700 text-white border border-red-600"
                            />
                            <button
                                type="submit"
                                className="w-full p-2 bg-red-600 text-white rounded hover:bg-red-700 transition"
                            >
                                Log In
                            </button>
                        </form>
                        <p className="text-white mt-4">
                            Don’t have an account?{' '}
                            <span className="text-red-600 cursor-pointer" onClick={() => setPage('signup')}>
                                Sign Up
                            </span>
                        </p>
                    </div>
                </div>
            );
        };

        // Profile Component
        const Profile = ({ user, setUser, setPage }) => {
            const [isPlaying, setIsPlaying] = useState(false);
            const [currentSongIndex, setCurrentSongIndex] = useState(0);

            useEffect(() => {
                const audioPlayer = document.getElementById('audioPlayer');
                if (!audioPlayer) return;
                if (user.welcomeScreen) {
                    setTimeout(() => {
                        const welcomeScreen = document.getElementById('welcomeScreen');
                        if (welcomeScreen) welcomeScreen.classList.add('hidden');
                        if (user.music.length > 0) {
                            audioPlayer.play().catch(e => console.error('Audio play failed:', e));
                            setIsPlaying(true);
                        }
                    }, 2000);
                } else if (user.music.length > 0) {
                    audioPlayer.play().catch(e => console.error('Audio play failed:', e));
                    setIsPlaying(true);
                }
            }, [currentSongIndex, user.music]);

            return (
                <div className="min-h-screen flex justify-center items-start pt-20">
                    {user.welcomeScreen && (
                        <div id="welcomeScreen" className="fixed inset-0 bg-black bg-opacity-70 backdrop-blur-lg flex items-center justify-center z-50">
                            <div className="welcome-text">Welcome to {user.username}'s Sanct</div>
                        </div>
                    )}
                    <div className="container max-w-md mx-auto text-center">
                        <div className="profile-card p-6">
                            {user.background && (
                                <video
                                    id="backgroundVideo"
                                    autoPlay
                                    loop
                                    playsInline
                                    className="fixed top-1/2 left-1/2 w-screen h-screen object-cover -translate-x-1/2 -translate-y-1/2 z-[-10]"
                                    style={{ opacity: 'var(--background-opacity)' }}
                                >
                                    <source src={user.background} type="video/mp4" />
                                </video>
                            )}
                            <div
                                className="w-24 h-24 rounded-full bg-gray-800 mx-auto mb-4 flex items-center justify-center overflow-hidden border-2 border-red-600"
                                style={{ backgroundImage: `url('https://i.pinimg.com/736x/40/3b/fa/403bfa953c43f049260d2398947e4704.jpg')` }}
                            ></div>
                            <div className="name-section flex items-center justify-center gap-2 flex-wrap relative">
                                <span className={`text-2xl ${user.wavyEffect ? 'wavy' : ''}`}>
                                    {user.username.split('').map((char, i) => (
                                        <span key={i} style={{ animationDelay: `${i * 0.1}s` }}>{char}</span>
                                    ))}
                                    <span className="uid absolute -top-6 left-1/2 -translate-x-1/2 text-sm text-red-600">UID {user.uid}</span>
                                </span>
                            </div>
                            <div className="badges flex flex-wrap justify-center gap-2 mt-2">
                                {user.badges.map((badge, i) => (
                                    <span key={i} className="bg-gray-800 text-white px-2 py-1 rounded text-sm border border-red-600">
                                        <i className={`fas fa-${badge === 'owner' ? 'crown' : badge === 'swag' ? 'fire' : 'star'} mr-1`}></i>
                                        {badge}
                                    </span>
                                ))}
                                {user.customBadges.map((badge, i) => (
                                    <span key={i} className="bg-gray-800 text-white px-2 py-1 rounded text-sm border border-red-600">{badge}</span>
                                ))}
                            </div>
                            <p className="text-white mt-2">I got swag</p>
                            <div className="links-container flex flex-col items-center gap-2 mt-4">
                                {user.links.map((link, i) => (
                                    <a href={link.url} key={i} className="link-button" target="_blank" rel="noopener noreferrer">
                                        {link.label}
                                    </a>
                                ))}
                            </div>
                            {user.music.length > 0 && (
                                <div className="audio-player mt-4">
                                    <div className="audio-info text-white mb-2">
                                        <div className="song-title">{user.music[currentSongIndex].title}</div>
                                    </div>
                                    <div className="audio-controls flex justify-center gap-4">
                                        <button
                                            className="bg-gray-800 text-white px-3 py-2 rounded border border-red-600 hover:bg-red-600"
                                            onClick={() => setCurrentSongIndex((currentSongIndex - 1 + user.music.length) % user.music.length)}
                                        >
                                            <i className="fas fa-backward"></i>
                                        </button>
                                        <button
                                            className="bg-gray-800 text-white px-3 py-2 rounded border border-red-600 hover:bg-red-600"
                                            onClick={() => {
                                                const audio = document.getElementById('audioPlayer');
                                                if (isPlaying) {
                                                    audio.pause();
                                                    setIsPlaying(false);
                                                } else {
                                                    audio.play().catch(e => console.error('Audio play failed:', e));
                                                    setIsPlaying(true);
                                                }
                                            }}
                                        >
                                            <i className={`fas fa-${isPlaying ? 'pause' : 'play'}`}></i>
                                        </button>
                                        <button
                                            className="bg-gray-800 text-white px-3 py-2 rounded border border-red-600 hover:bg-red-600"
                                            onClick={() => setCurrentSongIndex((currentSongIndex + 1) % user.music.length)}
                                        >
                                            <i className="fas fa-forward"></i>
                                        </button>
                                    </div>
                                    <audio id="audioPlayer" src={user.music[currentSongIndex].src}></audio>
                                </div>
                            )}
                            <button
                                className="mt-4 px-6 py-2 bg-red-600 text-white rounded hover:bg-red-700 transition"
                                onClick={() => setPage('dashboard')}
                            >
                                Enter Dashboard
                            </button>
                        </div>
                    </div>
                </div>
            );
        };

        // View Profile Component
        const ViewProfile = ({ user, setPage }) => {
            const [isPlaying, setIsPlaying] = useState(false);
            const [currentSongIndex, setCurrentSongIndex] = useState(0);

            useEffect(() => {
                const audioPlayer = document.getElementById('audioPlayer');
                if (!audioPlayer) return;
                if (user.welcomeScreen) {
                    setTimeout(() => {
                        const welcomeScreen = document.getElementById('welcomeScreen');
                        if (welcomeScreen) welcomeScreen.classList.add('hidden');
                        if (user.music.length > 0) {
                            audioPlayer.play().catch(e => console.error('Audio play failed:', e));
                            setIsPlaying(true);
                        }
                    }, 2000);
                } else if (user.music.length > 0) {
                    audioPlayer.play().catch(e => console.error('Audio play failed:', e));
                    setIsPlaying(true);
                }
            }, [currentSongIndex, user.music]);

            return (
                <div className="min-h-screen flex justify-center items-start pt-20">
                    {user.welcomeScreen && (
                        <div id="welcomeScreen" className="fixed inset-0 bg-black bg-opacity-70 backdrop-blur-lg flex items-center justify-center z-50">
                            <div className="welcome-text">Welcome to {user.username}'s Sanct</div>
                        </div>
                    )}
                    <div className="container max-w-md mx-auto text-center">
                        <div className="profile-card p-6">
                            {user.background && (
                                <video
                                    id="backgroundVideo"
                                    autoPlay
                                    loop
                                    playsInline
                                    className="fixed top-1/2 left-1/2 w-screen h-screen object-cover -translate-x-1/2 -translate-y-1/2 z-[-10]"
                                    style={{ opacity: 'var(--background-opacity)' }}
                                >
                                    <source src={user.background} type="video/mp4" />
                                </video>
                            )}
                            <div
                                className="w-24 h-24 rounded-full bg-gray-800 mx-auto mb-4 flex items-center justify-center overflow-hidden border-2 border-red-600"
                                style={{ backgroundImage: `url('https://i.pinimg.com/736x/40/3b/fa/403bfa953c43f049260d2398947e4704.jpg')` }}
                            ></div>
                            <div className="name-section flex items-center justify-center gap-2 flex-wrap relative">
                                <span className={`text-2xl ${user.wavyEffect ? 'wavy' : ''}`}>
                                    {user.username.split('').map((char, i) => (
                                        <span key={i} style={{ animationDelay: `${i * 0.1}s` }}>{char}</span>
                                    ))}
                                    <span className="uid absolute -top-6 left-1/2 -translate-x-1/2 text-sm text-red-600">UID {user.uid}</span>
                                </span>
                            </div>
                            <div className="badges flex flex-wrap justify-center gap-2 mt-2">
                                {user.badges.map((badge, i) => (
                                    <span key={i} className="bg-gray-800 text-white px-2 py-1 rounded text-sm border border-red-600">
                                        <i className={`fas fa-${badge === 'owner' ? 'crown' : badge === 'swag' ? 'fire' : 'star'} mr-1`}></i>
                                        {badge}
                                    </span>
                                ))}
                                {user.customBadges.map((badge, i) => (
                                    <span key={i} className="bg-gray-800 text-white px-2 py-1 rounded text-sm border border-red-600">{badge}</span>
                                ))}
                            </div>
                            <p className="text-white mt-2">I got swag</p>
                            <div className="links-container flex flex-col items-center gap-2 mt-4">
                                {user.links.map((link, i) => (
                                    <a href={link.url} key={i} className="link-button" target="_blank" rel="noopener noreferrer">
                                        {link.label}
                                    </a>
                                ))}
                            </div>
                            {user.music.length > 0 && (
                                <div className="audio-player mt-4">
                                    <div className="audio-info text-white mb-2">
                                        <div className="song-title">{user.music[currentSongIndex].title}</div>
                                    </div>
                                    <div className="audio-controls flex justify-center gap-4">
                                        <button
                                            className="bg-gray-800 text-white px-3 py-2 rounded border border-red-600 hover:bg-red-600"
                                            onClick={() => setCurrentSongIndex((currentSongIndex - 1 + user.music.length) % user.music.length)}
                                        >
                                            <i className="fas fa-backward"></i>
                                        </button>
                                        <button
                                            className="bg-gray-800 text-white px-3 py-2 rounded border border-red-600 hover:bg-red-600"
                                            onClick={() => {
                                                const audio = document.getElementById('audioPlayer');
                                                if (isPlaying) {
                                                    audio.pause();
                                                    setIsPlaying(false);
                                                } else {
                                                    audio.play().catch(e => console.error('Audio play failed:', e));
                                                    setIsPlaying(true);
                                                }
                                            }}
                                        >
                                            <i className={`fas fa-${isPlaying ? 'pause' : 'play'}`}></i>
                                        </button>
                                        <button
                                            className="bg-gray-800 text-white px-3 py-2 rounded border border-red-600 hover:bg-red-600"
                                            onClick={() => setCurrentSongIndex((currentSongIndex + 1) % user.music.length)}
                                        >
                                            <i className="fas fa-forward"></i>
                                        </button>
                                    </div>
                                    <audio id="audioPlayer" src={user.music[currentSongIndex].src}></audio>
                                </div>
                            )}
                            <button
                                className="mt-4 px-6 py-2 bg-red-600 text-white rounded hover:bg-red-700 transition"
                                onClick={() => setPage('home')}
                            >
                                Back to Base
                            </button>
                        </div>
                    </div>
                </div>
            );
        };

        // Search Component
        const Search = ({ handleSearch, setPage }) => {
            const [searchQuery, setSearchQuery] = useState('');

            const onSearch = (e) => {
                e.preventDefault();
                if (searchQuery) {
                    handleSearch(searchQuery);
                }
            };

            return (
                <div className="min-h-screen flex items-center justify-center pt-20">
                    <div className="bg-gray-800 bg-opacity-80 backdrop-blur-lg p-6 rounded-lg border-2 border-red-600">
                        <h2 className="text-2xl text-white mb-4">Search Users</h2>
                        <form onSubmit={onSearch} className="space-y-4">
                            <input
                                type="text"
                                placeholder="Enter username or UID"
                                value={searchQuery}
                                onChange={(e) => setSearchQuery(e.target.value)}
                                className="w-full p-2 rounded bg-gray-700 text-white border border-red-600"
                            />
                            <button
                                type="submit"
                                className="w-full p-2 bg-red-600 text-white rounded hover:bg-red-700 transition"
                            >
                                Search
                            </button>
                        </form>
                        <button
                            className="mt-4 w-full p-2 bg-gray-700 text-white rounded border border-red-600 hover:bg-red-600 transition"
                            onClick={() => setPage('home')}
                        >
                            Return to Home
                        </button>
                    </div>
                </div>
            );
        };

        // Compact Dashboard Component
        const CompactDashboard = ({ user, setUser, setPage, handleLogout }) => {
            const [background, setBackground] = useState(user.background);
            const [musicFiles, setMusicFiles] = useState(user.music);
            const [links, setLinks] = useState(user.links);
            const [gradientStart, setGradientStart] = useState(user.gradientStart);
            const [gradientEnd, setGradientEnd] = useState(user.gradientEnd);
            const [backgroundOpacity, setBackgroundOpacity] = useState(user.backgroundOpacity);
            const [profileBlur, setProfileBlur] = useState(user.profileBlur);
            const [gradient, setGradient] = useState(user.gradient);
            const [wavyEffect, setWavyEffect] = useState(user.wavyEffect);
            const [welcomeScreen, setWelcomeScreen] = useState(user.welcomeScreen);
            const [newLinkUrl, setNewLinkUrl] = useState('');
            const [newLinkLabel, setNewLinkLabel] = useState('');

            const handleSave = () => {
                try {
                    const users = JSON.parse(localStorage.getItem('users') || '[]');
                    const updatedUsers = users.map(u =>
                        u.uid === user.uid
                            ? {
                                  ...u,
                                  background,
                                  music: musicFiles,
                                  links,
                                  gradientStart,
                                  gradientEnd,
                                  backgroundOpacity,
                                  profileBlur,
                                  gradient,
                                  wavyEffect,
                                  welcomeScreen
                              }
                            : u
                    );
                    localStorage.setItem('users', JSON.stringify(updatedUsers));
                    setUser({
                        ...user,
                        background,
                        music: musicFiles,
                        links,
                        gradientStart,
                        gradientEnd,
                        backgroundOpacity,
                        profileBlur,
                        gradient,
                        wavyEffect,
                        welcomeScreen
                    });
                    document.documentElement.style.setProperty('--primary-gradient', `linear-gradient(90deg, ${gradientStart}, ${gradientEnd})`);
                    document.documentElement.style.setProperty('--background-opacity', backgroundOpacity);
                    document.documentElement.style.setProperty('--profile-blur', `${profileBlur}px`);
                    setPage('profile');
                } catch (e) {
                    console.error('Save error:', e);
                    alert('Error saving changes. Please try again.');
                }
            };

            const handleAddMusic = (e) => {
                const file = e.target.files[0];
                if (!file) return;
                if (musicFiles.length >= (user.isPremium ? 5 : 3)) {
                    alert(user.isPremium ? 'Max 5 music files' : 'Max 3 music files. Upgrade for more.');
                    return;
                }
                if (file.size > 2 * 1024 * 1024) {
                    alert('File size must be under 2MB.');
                    return;
                }
                const reader = new FileReader();
                reader.onload = () => {
                    setMusicFiles([...musicFiles, { title: file.name, src: reader.result }]);
                };
                reader.onerror = () => alert('Error reading file');
                reader.readAsDataURL(file);
            };

            const handleAddLink = () => {
                if (!newLinkUrl || !newLinkLabel) {
                    alert('Please enter both URL and label.');
                    return;
                }
                if (links.length >= (user.isPremium ? 10 : 5)) {
                    alert(user.isPremium ? 'Max 10 links' : 'Max 5 links. Upgrade for more.');
                    return;
                }
                setLinks([...links, { url: newLinkUrl, label: newLinkLabel }]);
                setNewLinkUrl('');
                setNewLinkLabel('');
            };

            const handlePurchasePremium = () => {
                alert('Redirecting to payment gateway...');
                try {
                    const users = JSON.parse(localStorage.getItem('users') || '[]');
                    const updatedUsers = users.map(u =>
                        u.uid === user.uid ? { ...u, isPremium: true } : u
                    );
                    localStorage.setItem('users', JSON.stringify(updatedUsers));
                    setUser({ ...user, isPremium: true });
                } catch (e) {
                    console.error('Premium purchase error:', e);
                    alert('Error processing premium purchase.');
                }
            };

            const handleAddCustomBadge = (badge) => {
                if (!user.isPremium) {
                    alert('Custom badges require premium.');
                    return;
                }
                if (badge) {
                    try {
                        const users = JSON.parse(localStorage.getItem('users') || '[]');
                        const updatedUsers = users.map(u =>
                            u.uid === user.uid ? { ...u, customBadges: [...u.customBadges, badge] } : u
                        );
                        localStorage.setItem('users', JSON.stringify(updatedUsers));
                        setUser({ ...user, customBadges: [...user.customBadges, badge] });
                    } catch (e) {
                        console.error('Add badge error:', e);
                        alert('Error adding badge.');
                    }
                }
            };

            return (
                <div className="space-y-4">
                    <h2 className="text-xl text-white font-bold">Quick Customize</h2>
                    <div>
                        <label className="text-white text-sm">Background Video</label>
                        <input
                            type="file"
                            accept="video/mp4"
                            onChange={(e) => {
                                const file = e.target.files[0];
                                if (file && file.size <= 10 * 1024 * 1024) {
                                    const reader = new FileReader();
                                    reader.onload = () => setBackground(reader.result);
                                    reader.readAsDataURL(file);
                                } else {
                                    alert('Video size must be under 10MB.');
                                }
                            }}
                            className="w-full p-1 rounded bg-gray-700 text-white border border-red-600"
                        />
                    </div>
                    <div>
                        <label className="text-white text-sm">Music Files (Max {user.isPremium ? 5 : 3})</label>
                        <input
                            type="file"
                            accept="audio/*"
                            onChange={handleAddMusic}
                            className="w-full p-1 rounded bg-gray-700 text-white border border-red-600"
                        />
                        <ul className="text-white text-sm mt-1">
                            {musicFiles.map((file, i) => (
                                <li key={i}>{file.title}</li>
                            ))}
                        </ul>
                    </div>
                    <div>
                        <label className="text-white text-sm">Links (Max {user.isPremium ? 10 : 5})</label>
                        <input
                            type="text"
                            placeholder="URL"
                            value={newLinkUrl}
                            onChange={(e) => setNewLinkUrl(e.target.value)}
                            className="w-full p-1 rounded bg-gray-700 text-white border border-red-600 mb-1"
                        />
                        <input
                            type="text"
                            placeholder="Label"
                            value={newLinkLabel}
                            onChange={(e) => setNewLinkLabel(e.target.value)}
                            className="w-full p-1 rounded bg-gray-700 text-white border border-red-600 mb-1"
                        />
                        <button
                            onClick={handleAddLink}
                            className="w-full p-1 bg-red-600 text-white rounded hover:bg-red-700"
                        >
                            Add Link
                        </button>
                        <ul className="text-white text-sm mt-1">
                            {links.map((link, i) => (
                                <li key={i}>{link.label}: {link.url}</li>
                            ))}
                        </ul>
                    </div>
                    <div>
                        <label className="text-white text-sm">Gradient Start</label>
                        <input
                            type="color"
                            value={gradientStart}
                            onChange={(e) => setGradientStart(e.target.value)}
                            className="w-full h-8 rounded"
                        />
                    </div>
                    <div>
                        <label className="text-white text-sm">Gradient End</label>
                        <input
                            type="color"
                            value={gradientEnd}
                            onChange={(e) => setGradientEnd(e.target.value)}
                            className="w-full h-8 rounded"
                        />
                    </div>
                    <div>
                        <label className="text-white text-sm">Background Opacity ({backgroundOpacity})</label>
                        <input
                            type="range"
                            min="0"
                            max="1"
                            step="0.1"
                            value={backgroundOpacity}
                            onChange={(e) => setBackgroundOpacity(e.target.value)}
                            className="w-full"
                        />
                    </div>
                    <div>
                        <label className="text-white text-sm">Profile Blur ({profileBlur}px)</label>
                        <input
                            type="range"
                            min="0"
                            max="10"
                            step="1"
                            value={profileBlur}
                            onChange={(e) => setProfileBlur(e.target.value)}
                            className="w-full"
                        />
                    </div>
                    {user.isPremium && (
                        <>
                            <div>
                                <label className="text-white text-sm">
                                    <input
                                        type="checkbox"
                                        checked={gradient}
                                        onChange={(e) => setGradient(e.target.checked)}
                                    /> Gradient Effect
                                </label>
                            </div>
                            <div>
                                <label className="text-white text-sm">
                                    <input
                                        type="checkbox"
                                        checked={wavyEffect}
                                        onChange={(e) => setWavyEffect(e.target.checked)}
                                    /> Wavy Effect
                                </label>
                            </div>
                            <div>
                                <label className="text-white text-sm">
                                    <input
                                        type="checkbox"
                                        checked={welcomeScreen}
                                        onChange={(e) => setWelcomeScreen(e.target.checked)}
                                    /> Welcome Screen
                                </label>
                            </div>
                            <div>
                                <label className="text-white text-sm">Custom Badge</label>
                                <input
                                    type="text"
                                    placeholder="Enter badge"
                                    onBlur={(e) => handleAddCustomBadge(e.target.value)}
                                    className="w-full p-1 rounded bg-gray-700 text-white border border-red-600"
                                />
                            </div>
                        </>
                    )}
                    {!user.isPremium && (
                        <button
                            onClick={handlePurchasePremium}
                            className="w-full p-1 bg-gray-700 text-white rounded border border-red-600 hover:bg-red-600"
                        >
                            Unlock Premium
                        </button>
                    )}
                    <button
                        onClick={handleSave}
                        className="w-full p-1 bg-red-600 text-white rounded hover:bg-red-700"
                    >
                        Save Loadout
                    </button>
                    <button
                        onClick={handleLogout}
                        className="w-full p-1 bg-gray-700 text-white rounded border border-red-600 hover:bg-red-600"
                    >
                        Log Out
                    </button>
                    <button
                        onClick={() => setPage('dashboard')}
                        className="w-full p-1 bg-gray-700 text-white rounded border border-red-600 hover:bg-red-600"
                    >
                        Full Dashboard
                    </button>
                </div>
            );
        };

        // Dashboard Component
        const Dashboard = ({ user, setUser, setPage, handleLogout }) => {
            const [background, setBackground] = useState(user.background);
            const [musicFiles, setMusicFiles] = useState(user.music);
            const [links, setLinks] = useState(user.links);
            const [gradientStart, setGradientStart] = useState(user.gradientStart);
            const [gradientEnd, setGradientEnd] = useState(user.gradientEnd);
            const [backgroundOpacity, setBackgroundOpacity] = useState(user.backgroundOpacity);
            const [profileBlur, setProfileBlur] = useState(user.profileBlur);
            const [gradient, setGradient] = useState(user.gradient);
            const [wavyEffect, setWavyEffect] = useState(user.wavyEffect);
            const [welcomeScreen, setWelcomeScreen] = useState(user.welcomeScreen);
            const [newLinkUrl, setNewLinkUrl] = useState('');
            const [newLinkLabel, setNewLinkLabel] = useState('');

            const handleSave = () => {
                try {
                    const users = JSON.parse(localStorage.getItem('users') || '[]');
                    const updatedUsers = users.map(u =>
                        u.uid === user.uid
                            ? {
                                  ...u,
                                  background,
                                  music: musicFiles,
                                  links,
                                  gradientStart,
                                  gradientEnd,
                                  backgroundOpacity,
                                  profileBlur,
                                  gradient,
                                  wavyEffect,
                                  welcomeScreen
                              }
                            : u
                    );
                    localStorage.setItem('users', JSON.stringify(updatedUsers));
                    setUser({
                        ...user,
                        background,
                        music: musicFiles,
                        links,
                        gradientStart,
                        gradientEnd,
                        backgroundOpacity,
                        profileBlur,
                        gradient,
                        wavyEffect,
                        welcomeScreen
                    });
                    document.documentElement.style.setProperty('--primary-gradient', `linear-gradient(90deg, ${gradientStart}, ${gradientEnd})`);
                    document.documentElement.style.setProperty('--background-opacity', backgroundOpacity);
                    document.documentElement.style.setProperty('--profile-blur', `${profileBlur}px`);
                    setPage('profile');
                    window.history.pushState({}, '', '/');
                } catch (e) {
                    console.error('Save error:', e);
                    alert('Error saving changes. Please try again.');
                }
            };

            const handleAddMusic = (e) => {
                const file = e.target.files[0];
                if (!file) return;
                if (musicFiles.length >= (user.isPremium ? 5 : 3)) {
                    alert(user.isPremium ? 'Max 5 music files' : 'Max 3 music files. Upgrade for more.');
                    return;
                }
                if (file.size > 2 * 1024 * 1024) {
                    alert('File size must be under 2MB.');
                    return;
                }
                const reader = new FileReader();
                reader.onload = () => {
                    setMusicFiles([...musicFiles, { title: file.name, src: reader.result }]);
                };
                reader.onerror = () => alert('Error reading file');
                reader.readAsDataURL(file);
            };

            const handleAddLink = () => {
                if (!newLinkUrl || !newLinkLabel) {
                    alert('Please enter both URL and label.');
                    return;
                }
                if (links.length >= (user.isPremium ? 10 : 5)) {
                    alert(user.isPremium ? 'Max 10 links' : 'Max 5 links. Upgrade for more.');
                    return;
                }
                setLinks([...links, { url: newLinkUrl, label: newLinkLabel }]);
                setNewLinkUrl('');
                setNewLinkLabel('');
            };

            const handlePurchasePremium = () => {
                alert('Redirecting to payment gateway...');
                try {
                    const users = JSON.parse(localStorage.getItem('users') || '[]');
                    const updatedUsers = users.map(u =>
                        u.uid === user.uid ? { ...u, isPremium: true } : u
                    );
                    localStorage.setItem('users', JSON.stringify(updatedUsers));
                    setUser({ ...user, isPremium: true });
                } catch (e) {
                    console.error('Premium purchase error:', e);
                    alert('Error processing premium purchase.');
                }
            };

            const handleAddCustomBadge = (badge) => {
                if (!user.isPremium) {
                    alert('Custom badges require premium.');
                    return;
                }
                if (badge) {
                    try {
                        const users = JSON.parse(localStorage.getItem('users') || '[]');
                        const updatedUsers = users.map(u =>
                            u.uid === user.uid ? { ...u, customBadges: [...u.customBadges, badge] } : u
                        );
                        localStorage.setItem('users', JSON.stringify(updatedUsers));
                        setUser({ ...user, customBadges: [...user.customBadges, badge] });
                    } catch (e) {
                        console.error('Add badge error:', e);
                        alert('Error adding badge.');
                    }
                }
            };

            return (
                <div className="min-h-screen flex justify-center items-start pt-20">
                    <div className="bg-gray-800 bg-opacity-80 backdrop-blur-lg p-6 rounded-lg border-2 border-red-600 max-w-md w-full">
                        <h2 className="text-2xl text-white mb-4">Dashboard</h2>
                        <div className="space-y-4">
                            <div>
                                <label className="text-white">Background Video</label>
                                <input
                                    type="file"
                                    accept="video/mp4"
                                    onChange={(e) => {
                                        const file = e.target.files[0];
                                        if (file && file.size <= 10 * 1024 * 1024) {
                                            const reader = new FileReader();
                                            reader.onload = () => setBackground(reader.result);
                                            reader.readAsDataURL(file);
                                        } else {
                                            alert('Video size must be under 10MB.');
                                        }
                                    }}
                                    className="w-full p-2 rounded bg-gray-700 text-white border border-red-600"
                                />
                            </div>
                            <div>
                                <label className="text-white">Music Files (Max {user.isPremium ? 5 : 3})</label>
                                <input
                                    type="file"
                                    accept="audio/*"
                                    onChange={handleAddMusic}
                                    className="w-full p-2 rounded bg-gray-700 text-white border border-red-600"
                                />
                                <ul className="text-white mt-2">
                                    {musicFiles.map((file, i) => (
                                        <li key={i}>{file.title}</li>
                                    ))}
                                </ul>
                            </div>
                            <div>
                                <label className="text-white">Links (Max {user.isPremium ? 10 : 5})</label>
                                <input
                                    type="text"
                                    placeholder="URL"
                                    value={newLinkUrl}
                                    onChange={(e) => setNewLinkUrl(e.target.value)}
                                    className="w-full p-2 rounded bg-gray-700 text-white border border-red-600 mb-1"
                                />
                                <input
                                    type="text"
                                    placeholder="Label"
                                    value={newLinkLabel}
                                    onChange={(e) => setNewLinkLabel(e.target.value)}
                                    className="w-full p-2 rounded bg-gray-700 text-white border border-red-600 mb-1"
                                />
                                <button
                                    onClick={handleAddLink}
                                    className="w-full p-2 bg-red-600 text-white rounded hover:bg-red-700"
                                >
                                    Add Link
                                </button>
                                <ul className="text-white mt-2">
                                    {links.map((link, i) => (
                                        <li key={i}>{link.label}: {link.url}</li>
                                    ))}
                                </ul>
                            </div>
                            <div>
                                <label className="text-white">Gradient Start</label>
                                <input
                                    type="color"
                                    value={gradientStart}
                                    onChange={(e) => setGradientStart(e.target.value)}
                                    className="w-full h-10 rounded"
                                />
                            </div>
                            <div>
                                <label className="text-white">Gradient End</label>
                                <input
                                    type="color"
                                    value={gradientEnd}
                                    onChange={(e) => setGradientEnd(e.target.value)}
                                    className="w-full h-10 rounded"
                                />
                            </div>
                            <div>
                                <label className="text-white">Background Opacity ({backgroundOpacity})</label>
                                <input
                                    type="range"
                                    min="0"
                                    max="1"
                                    step="0.1"
                                    value={backgroundOpacity}
                                    onChange={(e) => setBackgroundOpacity(e.target.value)}
                                    className="w-full"
                                />
                            </div>
                            <div>
                                <label className="text-white">Profile Blur ({profileBlur}px)</label>
                                <input
                                    type="range"
                                    min="0"
                                    max="10"
                                    step="1"
                                    value={profileBlur}
                                    onChange={(e) => setProfileBlur(e.target.value)}
                                    className="w-full"
                                />
                            </div>
                            {user.isPremium && (
                                <>
                                    <div>
                                        <label className="text-white">
                                            <input
                                                type="checkbox"
                                                checked={gradient}
                                                onChange={(e) => setGradient(e.target.checked)}
                                            /> Gradient Effect
                                        </label>
                                    </div>
                                    <div>
                                        <label className="text-white">
                                            <input
                                                type="checkbox"
                                                checked={wavyEffect}
                                                onChange={(e) => setWavyEffect(e.target.checked)}
                                            /> Wavy Effect
                                        </label>
                                    </div>
                                    <div>
                                        <label className="text-white">
                                            <input
                                                type="checkbox"
                                                checked={welcomeScreen}
                                                onChange={(e) => setWelcomeScreen(e.target.checked)}
                                            /> Welcome Screen
                                        </label>
                                    </div>
                                    <div>
                                        <label className="text-white">Custom Badge</label>
                                        <input
                                            type="text"
                                            placeholder="Enter badge"
                                            onBlur={(e) => handleAddCustomBadge(e.target.value)}
                                            className="w-full p-2 rounded bg-gray-700 text-white border border-red-600"
                                        />
                                    </div>
                                </>
                            )}
                            {!user.isPremium && (
                                <button
                                    onClick={handlePurchasePremium}
                                    className="w-full p-2 bg-gray-700 text-white rounded border border-red-600 hover:bg-red-600"
                                >
                                    Unlock Premium
                                </button>
                            )}
                            <button
                                onClick={handleSave}
                                className="w-full p-2 bg-red-600 text-white rounded hover:bg-red-700"
                            >
                                Save Loadout
                            </button>
                            <button
                                onClick={handleLogout}
                                className="w-full p-2 bg-gray-700 text-white rounded border border-red-600 hover:bg-red-600"
                            >
                                Log Out
                            </button>
                        </div>
                    </div>
                </div>
            );
        };

        try {
            ReactDOM.render(<App />, document.getElementById('root'));
        } catch (e) {
            console.error('ReactDOM render error:', e);
            document.getElementById('root').innerHTML = '<h1 class="text-white text-center mt-10">Failed to load. Reload.</h1>';
        }
    </script>
</body>
</html>
